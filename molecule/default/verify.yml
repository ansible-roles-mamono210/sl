---
- name: Verify
  hosts: all

  tasks:
    - name: Install which
      become: true
      ansible.builtin.package:
        name: which
        state: present

    - name: Check whether sl installed
      ansible.builtin.command: which sl
      register: sl_installed
      changed_when: false

    - name: Check OS version
      ansible.builtin.command: cat /etc/redhat-release
      register: os_version
      changed_when: false

    - name: Make sure sl is installed
      ansible.builtin.debug:
        var: sl_installed

    - name: Show OS version
      ansible.builtin.debug:
        var: os_version
